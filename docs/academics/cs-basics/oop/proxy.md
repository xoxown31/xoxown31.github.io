---
layout: default
title: Singleton Pattern
parent: Object-Oriented Programming
grand_parent: Computer Science Basics
---

# π§± Proxy Pattern

## μ΄λ΅ 

ν”„λ΅μ‹ ν¨ν„΄μ€ λ‹¤λ¥Έ κ°μ²΄μ— λ€ν• μ ‘κ·Όμ„ μ μ–΄ν•κΈ° μ„ν•΄ λ€λ¦¬ κ°μ²΄λ¥Ό μ‚¬μ©ν•λ” λ””μμΈ ν¨ν„΄μ…λ‹λ‹¤.
μ΄ ν¨ν„΄μ€ μ‹¤μ  κ°μ²΄μ— λ€ν• μ ‘κ·Όμ„ μ μ–΄ν•κ±°λ‚, κ°μ²΄μ μƒμ„± λΉ„μ©μ„ μ¤„μ΄κΈ° μ„ν•΄ μ‚¬μ©λ©λ‹λ‹¤.
ν”„λ΅μ‹ ν¨ν„΄μ€ μ£Όλ΅ λ‹¤μκ³Ό κ°™μ€ μƒν™©μ—μ„ μ‚¬μ©λ©λ‹λ‹¤.
- κ°μ²΄μ μƒμ„± λΉ„μ©μ΄ ν¬κ±°λ‚, κ°μ²΄κ°€ λ¬΄κ±°μ΄ λ¦¬μ†μ¤λ¥Ό μ‚¬μ©ν•λ” κ²½μ°
- κ°μ²΄μ— λ€ν• μ ‘κ·Όμ„ μ μ–΄ν•κ³  μ‹¶μ„ λ•
- κ°μ²΄μ μ‹¤μ  κµ¬ν„μ„ μ¨κΈ°κ³ , μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ μ ‘κ·Όν•κ³  μ‹¶μ„ λ•

## μΆ…λ¥

ν”„λ΅μ‹ ν¨ν„΄μ€ λ‹¤μκ³Ό κ°™μ€ μΆ…λ¥κ°€ μμµλ‹λ‹¤:
- **κ°€μƒ ν”„λ΅μ‹(Virtual Proxy)**: μ‹¤μ  κ°μ²΄μ μƒμ„± λΉ„μ©μ΄ ν¬κ±°λ‚, κ°μ²΄κ°€ λ¬΄κ±°μ΄ λ¦¬μ†μ¤λ¥Ό μ‚¬μ©ν•λ” κ²½μ°μ— μ‚¬μ©λ©λ‹λ‹¤. κ°€μƒ ν”„λ΅μ‹λ” μ‹¤μ  κ°μ²΄λ¥Ό ν•„μ”ν•  λ•κΉμ§€ μƒμ„±ν•μ§€ μ•κ³ , ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ²λ¦¬ν•©λ‹λ‹¤.
- **μ›κ²© ν”„λ΅μ‹(Remote Proxy)**: μ‹¤μ  κ°μ²΄κ°€ λ„¤νΈμ›ν¬λ¥Ό ν†µν•΄ μ ‘κ·Όλλ” κ²½μ°μ— μ‚¬μ©λ©λ‹λ‹¤. μ›κ²© ν”„λ΅μ‹λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ‹¤μ  κ°μ²΄ κ°„μ ν†µμ‹ μ„ κ΄€λ¦¬ν•©λ‹λ‹¤.
- **λ³΄νΈ ν”„λ΅μ‹(Protection Proxy)**: μ‹¤μ  κ°μ²΄μ— λ€ν• μ ‘κ·Όμ„ μ μ–΄ν•κ³ , λ³΄μ•μ„ κ°•ν™”ν•κΈ° μ„ν•΄ μ‚¬μ©λ©λ‹λ‹¤. λ³΄νΈ ν”„λ΅μ‹λ” ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ κ°€λ΅μ±„κ³ , ν•„μ”ν• κ²½μ°μ—λ§ μ‹¤μ  κ°μ²΄μ— μ ‘κ·Όν•©λ‹λ‹¤.
- **μΊμ‹ ν”„λ΅μ‹(Cache Proxy)**: μ‹¤μ  κ°μ²΄μ κ²°κ³Όλ¥Ό μΊμ‹±ν•μ—¬, μ„±λ¥μ„ ν–¥μƒμ‹ν‚¤κΈ° μ„ν•΄ μ‚¬μ©λ©λ‹λ‹¤. μΊμ‹ ν”„λ΅μ‹λ” ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ²λ¦¬ν•κ³ , μ΄μ „μ— κ³„μ‚°λ κ²°κ³Όλ¥Ό λ°ν™ν•©λ‹λ‹¤.
- **μ¤λ§νΈ ν”„λ΅μ‹(Smart Proxy)**: μ‹¤μ  κ°μ²΄μ— λ€ν• μ¶”κ°€μ μΈ κΈ°λ¥μ„ μ κ³µν•κΈ° μ„ν•΄ μ‚¬μ©λ©λ‹λ‹¤. μ¤λ§νΈ ν”„λ΅μ‹λ” ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ²λ¦¬ν•κ³ , ν•„μ”ν• κ²½μ°μ—λ§ μ‹¤μ  κ°μ²΄μ— μ ‘κ·Όν•©λ‹λ‹¤.

ν”„λ΅μ‹ ν¨ν„΄μ€ μΆ…λ¥κ°€ λ‹¤μ–‘ν•λ©°, κ° μΆ…λ¥λ” νΉμ • μƒν™©μ—μ„ μ μ©ν•κ² μ‚¬μ©λ  μ μμµλ‹λ‹¤.

## κµ¬μ΅°

ν”„λ΅μ‹ ν¨ν„΄μ€ λ‹¤μκ³Ό κ°™μ€ κµ¬μ΅°λ¥Ό κ°€μ§‘λ‹λ‹¤:

- **μ£Όμ (Subject) μΈν„°νμ΄μ¤**: μ‹¤μ  κ°μ²΄μ™€ ν”„λ΅μ‹ κ°μ²΄κ°€ κµ¬ν„ν•΄μ•Ό ν•λ” μΈν„°νμ΄μ¤μ…λ‹λ‹¤.
- **μ‹¤μ  κ°μ²΄(Real Subject) ν΄λμ¤**: μ£Όμ  μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤μ…λ‹λ‹¤. μ‹¤μ  μ‘μ—…μ„ μν–‰ν•©λ‹λ‹¤.
- **ν”„λ΅μ‹(Proxy) ν΄λμ¤**: μ£Όμ  μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ©°, μ‹¤μ  κ°μ²΄μ— λ€ν• μ ‘κ·Όμ„ μ μ–΄ν•λ” ν΄λμ¤μ…λ‹λ‹¤. μ‹¤μ  κ°μ²΄λ¥Ό ν¬ν•¨ν•κ³ , ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ²λ¦¬ν•©λ‹λ‹¤.

ν”„λ΅μ‹ ν¨ν„΄μ€ λ‹¤μκ³Ό κ°™μ€ μ†μ„±κ³Ό λ©”μ„λ“λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤:

- **μ‹¤μ  κ°μ²΄ μ°Έμ΅°**: ν”„λ΅μ‹ κ°μ²΄κ°€ μ‹¤μ  κ°μ²΄λ¥Ό μ°Έμ΅°ν•λ” λ³€μμ…λ‹λ‹¤. μ΄ λ³€μλ” μ‹¤μ  κ°μ²΄μ μΈμ¤ν„΄μ¤λ¥Ό μ €μ¥ν•©λ‹λ‹¤.
- **μ”μ²­ μ²λ¦¬ λ©”μ„λ“**: ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ²λ¦¬ν•λ” λ©”μ„λ“μ…λ‹λ‹¤. μ΄ λ©”μ„λ“λ” μ‹¤μ  κ°μ²΄μ λ©”μ„λ“λ¥Ό νΈμ¶ν•κ±°λ‚, μ¶”κ°€μ μΈ μ‘μ—…μ„ μν–‰ν•©λ‹λ‹¤.
- **ν”„λ΅μ‹ μƒμ„± λ©”μ„λ“**: μ‹¤μ  κ°μ²΄λ¥Ό μƒμ„±ν•λ” λ©”μ„λ“μ…λ‹λ‹¤. μ΄ λ©”μ„λ“λ” μ‹¤μ  κ°μ²΄λ¥Ό μƒμ„±ν•κ³ , ν”„λ΅μ‹ κ°μ²΄μ— ν• λ‹Ήν•©λ‹λ‹¤.

## νΉμ§•
- **μ ‘κ·Ό μ μ–΄**: μ‹¤μ  κ°μ²΄μ— λ€ν• μ ‘κ·Όμ„ μ μ–΄ν•  μ μμµλ‹λ‹¤.
- **μ§€μ—° μ΄κΈ°ν™”**: μ‹¤μ  κ°μ²΄λ¥Ό ν•„μ”ν•  λ•κΉμ§€ μƒμ„±ν•μ§€ μ•μ„ μ μμµλ‹λ‹¤.
- **μΈν„°νμ΄μ¤ μ‚¬μ©**: μ‹¤μ  κ°μ²΄μ™€ ν”„λ΅μ‹ κ°μ²΄κ°€ λ™μΌν• μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•μ—¬, ν΄λΌμ΄μ–ΈνΈ μ½”λ“κ°€ λ‘ κ°μ²΄λ¥Ό λ™μΌν•κ² μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
- **μ±…μ„ λ¶„λ¦¬**: μ‹¤μ  κ°μ²΄μ μ±…μ„μ„ ν”„λ΅μ‹ κ°μ²΄μ— λ¶„λ¦¬ν•μ—¬, ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ μ±…μ„μ„ μ¤„μ…λ‹λ‹¤.
- **λ³΄μ•**: μ‹¤μ  κ°μ²΄μ— λ€ν• μ ‘κ·Όμ„ μ ν•ν•μ—¬, λ³΄μ•μ„ κ°•ν™”ν•  μ μμµλ‹λ‹¤.

## μμ  μ½”λ“

ν”„λ΅μ‹ ν¨ν„΄μ„ μ‚¬μ©ν•μ—¬ μ΄λ―Έμ§€ λ΅λ”©μ„ μµμ ν™”ν•λ” μμ λ¥Ό μ‚΄ν΄λ³΄κ² μµλ‹λ‹¤.

```java
// μ£Όμ  μΈν„°νμ΄μ¤
public interface Image {
    void display();
}

// μ‹¤μ  κ°μ²΄ ν΄λμ¤
public class RealImage implements Image {
    private String filename;

    public RealImage(String filename) {
        this.filename = filename;
        loadImageFromDisk();
    }

    private void loadImageFromDisk() {
        System.out.println("Loading " + filename);
    }

    @Override
    public void display() {
        System.out.println("Displaying " + filename);
    }
}

// ν”„λ΅μ‹ ν΄λμ¤
public class ProxyImage implements Image {
    private RealImage realImage;
    private String filename;

    public ProxyImage(String filename) {
        this.filename = filename;
    }

    @Override
    public void display() {
        if (realImage == null) {
            realImage = new RealImage(filename);
        }
        realImage.display();
    }
}

// ν΄λΌμ΄μ–ΈνΈ μ½”λ“
public class Client {
    public static void main(String[] args) {
        Image image1 = new ProxyImage("image1.jpg"); // μ΄λ―Έμ§€κ°€ μ‹¤μ λ΅ λ΅λ“λμ§€ μ•μ
        Image image2 = new ProxyImage("image2.jpg"); // μ΄λ―Έμ§€κ°€ μ‹¤μ λ΅ λ΅λ“λμ§€ μ•μ

        image1.display(); // μ‹¤μ λ΅ λ΅λ“λ¨
        image2.display(); // μ‹¤μ λ΅ λ΅λ“λ¨
    }
}
```

μ΄ μμ μ—μ„ `ProxyImage` ν΄λμ¤λ” `RealImage` ν΄λμ¤μ— λ€ν• ν”„λ΅μ‹ μ—­ν• μ„ ν•©λ‹λ‹¤.
`ProxyImage`λ” μ‹¤μ  μ΄λ―Έμ§€κ°€ ν•„μ”ν•  λ•λ§ `RealImage`λ¥Ό μƒμ„±ν•κ³ , μ΄λ―Έμ§€λ¥Ό ν‘μ‹ν•λ” λ©”μ„λ“λ¥Ό νΈμ¶ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ΄λ―Έμ§€ λ΅λ”©μ„ μµμ ν™”ν•κ³ , λ¶ν•„μ”ν• λ¦¬μ†μ¤ μ‚¬μ©μ„ μ¤„μΌ μ μμµλ‹λ‹¤.

"μ–΄μ°¨ν”Ό λ‚μ¤‘μ— λ‘κ°™μ€ λ¦¬μ†μ¤λ¥Ό μ‚¬μ©ν•λ”λ° μλ―Έ μ—†λ” κ²ƒ μ•„λ‹κ°€?"λΌκ³  μƒκ°ν•  μλ„ μμ§€λ§,
μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°„μ ν†µμ‹ μ—μ„ ν”„λ΅μ‹ ν¨ν„΄μ„ μ‚¬μ©ν•λ©΄, μ΄μ•ΌκΈ°κ°€ λ‹¬λΌμ§‘λ‹λ‹¤.
ν”„λ΅μ‹ ν¨ν„΄μ„ μ‚¬μ©ν•λ©΄ ν΄λΌμ΄μ–ΈνΈλ” μ‹¤μ  κ°μ²΄μ— μ§μ ‘ μ ‘κ·Όν•μ§€ μ•κ³ , ν”„λ΅μ‹ κ°μ²΄λ¥Ό ν†µν•΄ κ°„μ ‘μ μΌλ΅ μ ‘κ·Όν•κ² λ©λ‹λ‹¤.
μ΄ κ³Όμ •μ—μ„ ν”„λ΅μ‹ κ°μ²΄λ” ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ κ°€λ΅μ±„κ³ , ν•„μ”ν• κ²½μ°μ—λ§ μ‹¤μ  κ°μ²΄λ¥Ό μƒμ„±ν•κ±°λ‚, μ”μ²­μ„ μ „λ‹¬ν•©λ‹λ‹¤.
μ΄λ¬ν• λ°©μ‹μ€ λ„¤νΈμ›ν¬ λ€μ—­ν­μ„ μ μ•½ν•κ³ , μ„λ²„μ λ¶€ν•λ¥Ό μ¤„μ΄λ” λ° λ„μ›€μ΄ λ©λ‹λ‹¤.


## κ²°λ΅ 

ν”„λ΅μ‹ ν¨ν„΄μ€ κ°μ²΄μ— λ€ν• μ ‘κ·Όμ„ μ μ–΄ν•κ³ , λ¦¬μ†μ¤ μ‚¬μ©μ„ μµμ ν™”ν•λ” λ° μ μ©ν• λ””μμΈ ν¨ν„΄μ…λ‹λ‹¤.
μ΄ ν¨ν„΄μ€ μ‹¤μ  κ°μ²΄μ— λ€ν• μ ‘κ·Όμ„ ν”„λ΅μ‹ κ°μ²΄λ¥Ό ν†µν•΄ κ°„μ ‘μ μΌλ΅ μν–‰ν•¨μΌλ΅μ¨,
ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ™€ μ‹¤μ  κ°μ²΄ κ°„μ κ²°ν•©λ„λ¥Ό λ‚®μ¶”κ³ , κ°μ²΄μ μƒμ„± λΉ„μ©μ„ μ¤„μΌ μ μμµλ‹λ‹¤.

λ³΄ν†µ ν”„λ΅μ‹ ν¨ν„΄μ€ μ„λ²„-ν΄λΌμ΄μ–ΈνΈ κµ¬μ΅°, μ›κ²© ν”„λ΅μ‹μ € νΈμ¶(RPC), κ°€μƒ ν”„λ΅μ‹ λ“± λ‹¤μ–‘ν• μƒν™©μ—μ„ μ‚¬μ©λ©λ‹λ‹¤.
ν”„λ΅μ‹ ν¨ν„΄μ„ μ‚¬μ©ν•λ©΄ κ°μ²΄μ μƒμ„± λΉ„μ©μ„ μ¤„μ΄κ³ , κ°μ²΄μ— λ€ν• μ ‘κ·Όμ„ μ μ–΄ν•  μ μμ–΄,
μ• ν”λ¦¬μΌ€μ΄μ…μ μ„±λ¥κ³Ό λ³΄μ•μ„ ν–¥μƒμ‹ν‚¬ μ μμµλ‹λ‹¤.