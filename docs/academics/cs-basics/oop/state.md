---
layout: default
title: State Pattern
parent: Object-Oriented Programming
grand_parent: Computer Science Basics
---

# π§± State Pattern

## μ΄λ΅ 

μƒνƒ ν¨ν„΄μ€ κ°μ²΄μ μƒνƒμ— λ”°λΌ ν–‰λ™μ„ λ³€κ²½ν•λ” λ””μμΈ ν¨ν„΄μ…λ‹λ‹¤.
μ΄ ν¨ν„΄μ€ κ°μ²΄μ μƒνƒλ¥Ό μΊ΅μν™”ν•μ—¬, μƒνƒμ— λ”°λΌ λ‹¤λ¥Έ ν–‰λ™μ„ μν–‰ν•  μ μλ„λ΅ ν•©λ‹λ‹¤.
μƒνƒ ν¨ν„΄μ€ μ£Όλ΅ λ‹¤μκ³Ό κ°™μ€ μƒν™©μ—μ„ μ‚¬μ©λ©λ‹λ‹¤.
- κ°μ²΄μ μƒνƒκ°€ μ—¬λ¬ κ° μκ³ , μƒνƒμ— λ”°λΌ ν–‰λ™μ΄ λ‹¬λΌμ§ λ•
- μƒνƒκ°€ λ³€κ²½λ  λ•λ§λ‹¤ κ°μ²΄μ ν–‰λ™μ„ λ³€κ²½ν•κ³  μ‹¶μ„ λ•
- μƒνƒ μ „ν™μ΄ λ³µμ΅ν•κ³ , μ΄λ¥Ό κ΄€λ¦¬ν•κΈ° μ–΄λ ¤μΈ λ•

## κµ¬μ΅°

μƒνƒ ν¨ν„΄μ€ λ‹¤μκ³Ό κ°™μ€ κµ¬μ΅°λ¥Ό κ°€μ§‘λ‹λ‹¤:
- **μƒνƒ μΈν„°νμ΄μ¤**: μƒνƒλ¥Ό μ •μν•λ” μΈν„°νμ΄μ¤μ…λ‹λ‹¤. μ΄ μΈν„°νμ΄μ¤λ” μƒνƒμ— λ”°λΌ μν–‰ν•  ν–‰λ™μ„ μ„ μ–Έν•©λ‹λ‹¤.
- **κµ¬μ²΄μ μΈ μƒνƒ ν΄λμ¤**: μƒνƒ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤λ“¤μ…λ‹λ‹¤. κ° ν΄λμ¤λ” νΉμ • μƒνƒμ— λ€ν• ν–‰λ™μ„ μ •μν•©λ‹λ‹¤.
- **μ»¨ν…μ¤νΈ ν΄λμ¤**: ν„μ¬ μƒνƒλ¥Ό μ μ§€ν•κ³ , μƒνƒ μ „ν™μ„ κ΄€λ¦¬ν•λ” ν΄λμ¤μ…λ‹λ‹¤. μ΄ ν΄λμ¤λ” μƒνƒ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•μ—¬ ν„μ¬ μƒνƒμ ν–‰λ™μ„ μν–‰ν•©λ‹λ‹¤.

μƒνƒ ν¨ν„΄μ€ λ‹¤μκ³Ό κ°™μ€ μ†μ„±κ³Ό λ©”μ„λ“λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤:
- **μƒνƒ κ°μ²΄**: ν„μ¬ μƒνƒλ¥Ό λ‚νƒ€λ‚΄λ” κ°μ²΄μ…λ‹λ‹¤. μ΄ κ°μ²΄λ” μƒνƒ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤μ μΈμ¤ν„΄μ¤μ…λ‹λ‹¤.
- **μƒνƒ μ „ν™ λ©”μ„λ“**: ν„μ¬ μƒνƒλ¥Ό λ³€κ²½ν•λ” λ©”μ„λ“μ…λ‹λ‹¤. μ΄ λ©”μ„λ“λ” μƒλ΅μ΄ μƒνƒ κ°μ²΄λ¥Ό μ„¤μ •ν•μ—¬ μƒνƒλ¥Ό μ „ν™ν•©λ‹λ‹¤.
- **ν–‰λ™ λ©”μ„λ“**: ν„μ¬ μƒνƒμ ν–‰λ™μ„ μν–‰ν•λ” λ©”μ„λ“μ…λ‹λ‹¤. μ΄ λ©”μ„λ“λ” ν„μ¬ μƒνƒ κ°μ²΄μ ν–‰λ™μ„ νΈμ¶ν•©λ‹λ‹¤.


## νΉμ§•

- **μƒνƒ μΊ΅μν™”**: μƒνƒλ¥Ό λ³„λ„μ ν΄λμ¤λ΅ μΊ΅μν™”ν•μ—¬, κ°μ²΄μ μƒνƒμ™€ ν–‰λ™μ„ λ¶„λ¦¬ν•©λ‹λ‹¤.
- **μƒνƒ μ „ν™**: κ°μ²΄μ μƒνƒκ°€ λ³€κ²½λ  λ•, μƒνƒ κ°μ²΄λ¥Ό κµμ²΄ν•μ—¬ ν–‰λ™μ„ λ³€κ²½ν•©λ‹λ‹¤.
- **μ μ—°μ„±**: μƒλ΅μ΄ μƒνƒλ¥Ό μ¶”κ°€ν•  λ•, κΈ°μ΅΄ μ½”λ“λ¥Ό μμ •ν•μ§€ μ•κ³  μƒλ΅μ΄ μƒνƒ ν΄λμ¤λ¥Ό μ¶”κ°€ν•μ—¬ ν™•μ¥ν•  μ μμµλ‹λ‹¤.
- **μ±…μ„ λ¶„λ¦¬**: μƒνƒμ μ±…μ„μ„ λ³„λ„μ ν΄λμ¤μ— λ¶„λ¦¬ν•μ—¬, κ°μ²΄μ μ±…μ„μ„ μ¤„μ…λ‹λ‹¤.
- **μΈν„°νμ΄μ¤ μ‚¬μ©**: μƒνƒλ¥Ό μ •μν•λ” μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•μ—¬, ν΄λΌμ΄μ–ΈνΈ μ½”λ“κ°€ μƒνƒλ¥Ό λ…λ¦½μ μΌλ΅ μ‚¬μ©ν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

## μμ  μ½”λ“

μλ°”μ—μ„ μƒνƒ ν¨ν„΄μ„ κµ¬ν„ν•λ” μμ λ¥Ό μ‚΄ν΄λ³΄κ² μµλ‹λ‹¤.
μλ¥Ό λ“¤μ–΄, μ¨λΌμΈ μ‡Όν•‘λ°μ—μ„ μ£Όλ¬Έ μƒνƒλ¥Ό κ΄€λ¦¬ν•λ” κΈ°λ¥μ„ κµ¬ν„ν•λ‹¤κ³  κ°€μ •ν•΄λ΄…μ‹λ‹¤.

```java
// μ£Όλ¬Έ μƒνƒ μΈν„°νμ΄μ¤
public interface OrderState {
    void handleOrder(OrderContext context);
}

// μ£Όλ¬Έ ν™•μΈ μƒνƒ
public class OrderConfirmedState implements OrderState {
    @Override
    public void handleOrder(OrderContext context) {
        System.out.println("μ£Όλ¬Έμ΄ ν™•μΈλμ—μµλ‹λ‹¤.");
        context.setState(new OrderShippedState());
    }
}

// μ£Όλ¬Έ λ°°μ†΅ μƒνƒ
public class OrderShippedState implements OrderState {
    @Override
    public void handleOrder(OrderContext context) {
        System.out.println("μ£Όλ¬Έμ΄ λ°°μ†΅ μ¤‘μ…λ‹λ‹¤.");
        context.setState(new OrderDeliveredState());
    }
}

// μ£Όλ¬Έ λ°°μ†΅ μ™„λ£ μƒνƒ
public class OrderDeliveredState implements OrderState {
    @Override
    public void handleOrder(OrderContext context) {
        System.out.println("μ£Όλ¬Έμ΄ λ°°μ†΅ μ™„λ£λμ—μµλ‹λ‹¤.");
    }
}

// μ£Όλ¬Έ μ»¨ν…μ¤νΈ
public class OrderContext {
    private OrderState state;

    public OrderContext() {
        this.state = new OrderPendingState(); // μ΄κΈ° μƒνƒ μ„¤μ •
    }

    public void setState(OrderState state) {
        this.state = state;
    }

    public void handleOrder() {
        state.handleOrder(this);
    }
}

// μ‚¬μ© μμ 
public class Main {
    public static void main(String[] args) {
        OrderContext order = new OrderContext();
        
        order.handleOrder(); // μ£Όλ¬Έμ΄ ν™•μΈλμ—μµλ‹λ‹¤.
        order.handleOrder(); // μ£Όλ¬Έμ΄ λ°°μ†΅ μ¤‘μ…λ‹λ‹¤.
        order.handleOrder(); // μ£Όλ¬Έμ΄ λ°°μ†΅ μ™„λ£λμ—μµλ‹λ‹¤.
    }
}
```

μ¤‘μ”ν• μ μ€ κ° μƒνƒκ°€ `OrderContext` κ°μ²΄μ μƒνƒλ¥Ό λ³€κ²½ν•  μ μλ‹¤λ” κ²ƒμ…λ‹λ‹¤.
μ‹¤μ  μ‚¬μ© μ‹ μ–΄λ–¤ μƒνƒμΈμ§€ μ• ν•„μ”κ°€ μ—†μΌλ©°, μƒνƒ κ°μ²΄κ°€ μƒνƒ μ „ν™μ„ κ΄€λ¦¬ν•©λ‹λ‹¤.
**μƒνƒ**κ°€ μ¶”μƒν™” λμ—λ‹¤λ” κ²ƒμ€ μ΄λ¥Ό λ»ν•©λ‹λ‹¤.

μ „λµ ν¨ν„΄μ—μ„λ” **μ „λµ**μ„ μ¶”μƒν™”ν•μ—¬ μ–΄λ–¤ μ•κ³ λ¦¬μ¦μ„ μ‚¬μ©ν•λ”μ§€ μ• ν•„μ”κ°€ μ—†λ“―μ΄,
μƒνƒ ν¨ν„΄μ—μ„λ„ **μƒνƒ**λ¥Ό μ¶”μƒν™”ν•μ—¬ ν„μ¬ μ–΄λ–¤ μƒνƒμΈμ§€ μ• ν•„μ”κ°€ μ—†μµλ‹λ‹¤.

## κ²°λ΅ 

μƒνƒ ν¨ν„΄μ€ κ°μ²΄μ μƒνƒμ— λ”°λΌ ν–‰λ™μ„ λ³€κ²½ν•  μ μλ” μ μ—°ν• κµ¬μ΅°λ¥Ό μ κ³µν•©λ‹λ‹¤.
λν•, μƒνƒ μ „ν™μ„ κ΄€λ¦¬ν•λ” μ±…μ„μ„ λ³„λ„μ μƒνƒ κ°μ²΄μ— λ¶„λ¦¬ν•μ—¬,
κ°μ²΄μ μ±…μ„μ„ μ¤„μ΄κ³ , μ½”λ“μ κ°€λ…μ„±κ³Ό μ μ§€λ³΄μμ„±μ„ λ†’μ…λ‹λ‹¤.
